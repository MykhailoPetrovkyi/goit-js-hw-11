{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48249953-c87d0f666d29b70f04b79c154';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientaiton: 'horizontal',\n    safesearch: 'true',\n    page: 1,\n    per_page: 9,\n  });\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(err => {\n      throw err;\n    });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\nconst gallery = document.querySelector('.gallery');\n\nexport const renderImages = images => {\n  const image = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-card\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <ul class=\"gallery-info\">\n            <li class=\"gallery-info-content\">\n              <p>Likes</p>\n              <p>${likes}</p>\n            </li>\n            <li class=\"gallery-info-content\">\n              <p>Views</p>\n              <p>${views}</p>\n            </li>\n            <li class=\"gallery-info-content\">\n              <p>Comments</p>\n              <p>${comments}</p>\n            </li>\n            <li class=\"gallery-info-content\">\n              <p>Downloads</p>\n              <p>${downloads}</p>\n            </li>\n          </ul>\n        </li>`\n    )\n    .join('');\n\n  gallery.innerHTML = image;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery-link', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n};\n\nexport const clearImages = () => {\n  gallery.innerHTML = '';\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages, clearImages } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst input = form.elements.search;\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchQuery = input.value.trim();\n\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n      position: 'topRight',\n    });\n    clearImages();\n    return;\n  }\n\n  fetchImages(searchQuery)\n    .then(data => {\n      loaderCheck(true);\n      if (data.hits.length === 0) {\n        input.value = '';\n        iziToast.error({\n          title: 'Error',\n          message: `❌ Sorry, there are no images matching your search query. Please enter the correct values!`,\n          position: 'topRight',\n        });\n        return;\n      }\n      renderImages(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `Something went wrong: ${error.message}`,\n        position: 'topRight',\n      });\n    })\n    .finally(loaderCheck(false));\n});\n\nconst loaderCheck = load =>\n  (loader.style.display = load ? 'none' : 'inline-block');\n"],"names":["API_KEY","BASE_URL","fetchImages","query","params","response","err","lightbox","gallery","renderImages","images","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearImages","form","loader","input","e","searchQuery","iziToast","data","loaderCheck","error","load"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAcC,GAAS,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAM,EACN,SAAU,CACd,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EACjC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAO,CACZ,MAAMA,CACZ,CAAK,CACL,ECrBA,IAAIC,EACJ,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEpCC,EAAeC,GAAU,CACpC,MAAMC,EAAQD,EACX,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,0CACkCL,CAAa;AAAA,4CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKnDC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mBAIRC,CAAS;AAAA;AAAA;AAAA,cAIvB,EACA,KAAK,EAAE,EAEVV,EAAQ,UAAYG,EAEfJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIY,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,EAEaC,EAAc,IAAM,CAC/BZ,EAAQ,UAAY,EACtB,ECrDMa,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQF,EAAK,SAAS,OAE5BA,EAAK,iBAAiB,SAAUG,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAcF,EAAM,MAAM,KAAI,EAEpC,GAAIE,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6EACT,SAAU,UAChB,CAAK,EACDN,IACA,MACD,CAEDlB,EAAYuB,CAAW,EACpB,KAAKE,GAAQ,CAEZ,GADAC,EAAY,EAAI,EACZD,EAAK,KAAK,SAAW,EAAG,CAC1BJ,EAAM,MAAQ,GACdG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4FACT,SAAU,UACpB,CAAS,EACD,MACD,CACDjB,EAAakB,EAAK,IAAI,CAC5B,CAAK,EACA,MAAME,GAAS,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBAAyBG,EAAM,OAAO,GAC/C,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQD,EAAY,EAAK,CAAC,CAC/B,CAAC,EAED,MAAMA,EAAcE,GACjBR,EAAO,MAAM,QAAUQ,EAAO,OAAS"}